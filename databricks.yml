bundle:
  name: actuarial-workshop

variables:
  catalog:
    description: "Unity Catalog catalog name — must already exist"
    default: my_catalog

  schema:
    description: "UC schema name — will be created if it does not exist"
    default: actuarial_workshop

  endpoint_name:
    description: "Name for the SARIMA Model Serving endpoint"
    default: actuarial-workshop-sarima-forecaster

  mc_endpoint_name:
    description: "Name for the Monte Carlo portfolio risk serving endpoint"
    default: actuarial-workshop-monte-carlo

  warehouse_id:
    description: "SQL Warehouse ID for the Statement Execution API (used by the app)"
    default: ""

  pg_database:
    description: "Lakebase database name"
    default: actuarial_workshop_db

  online_store_name:
    description: "Name for the online feature store"
    default: "actuarial-workshop-online-store"

  online_store_capacity:
    description: "Capacity tier for the online feature store"
    default: CU_1

  notification_email:
    description: "Email address for job failure notifications (optional)"
    default: ""

include:
  - resources/*.yml
  - databricks.local*.yml   # gitignored local overrides; silently skipped if absent

sync:
  # Force-include the bundle-generated config even though it's gitignored.
  # Generated by deploy.sh (via scripts/gen_bundle_config.py) before each deploy.
  include:
    - app/_bundle_config.py

targets:

  dev:
    mode: development
    variables:
      catalog: my_catalog
      schema: actuarial_workshop

  # ── Add your workspace target in databricks.local.yml (gitignored) ───────────
  # See databricks.local.yml.example for a template.
